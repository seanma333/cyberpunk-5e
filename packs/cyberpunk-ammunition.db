{"name": "Shells (2-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/shotgun-rounds.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 200000, "_id": "POWdp5CzQN3k9i4e", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665208082209, "modifiedTime": 1665208195127, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Shells (2-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for shotguns.</p><p>2-Clips used for double-barreled shotguns and sawed-off shotguns.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 2, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 2}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Bullets (40-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_id": "thITaSwkmT3WgVAM", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665204863029, "modifiedTime": 1665207919541, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Bullets (10-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p><p>40-clip used for gatling guns and light machine guns.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 40, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 40}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"_id": "GIVKcteVVkfagy0L", "name": "Bullets", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": null, "modifiedTime": 1665204909550, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 1, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": null}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Bullets (20-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_id": "5rbDlKRYH4ws7fE2", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665204863029, "modifiedTime": 1665207893625, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Bullets (10-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p><p>20-clip used for assault rifles.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 20, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 20}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"_id": "i6cUJgQN2mgazfFz", "name": "Shells", "type": "consumable", "img": "modules/game-icons-net/blackbackground/shotgun-rounds.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 200000, "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": null, "modifiedTime": 1665204915317, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for shotguns.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 1, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": 0, "per": null, "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": null, "amount": null}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Bullets (6-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_id": "NyX6kncx8LZXO1Ky", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665204863029, "modifiedTime": 1665207619596, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Bullets (10-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p><p>6-clip used for revolvers and magnums.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 6, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 6}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Bullets (16-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_id": "B6xYGsNJ7tOFd6MO", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665204863029, "modifiedTime": 1665207697631, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Bullets (10-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p><p>16-clip used for submachine guns.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 16, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 16}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Shells (8-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/shotgun-rounds.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 200000, "_id": "HxeavAoHMaQRMzwo", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665208082209, "modifiedTime": 1665208388737, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Shells (2-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for shotguns.</p><p>8-Clips used for pump shotguns.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 8, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 2}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Bullets (5-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_id": "VzS95R7mkNmFQpQv", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665204863029, "modifiedTime": 1665207538414, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Bullets (10-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p><p>5-clip used for hunting rifles.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 5, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 5}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
{"name": "Bullets (10-Clip)", "type": "consumable", "img": "modules/game-icons-net/blackbackground/bullets.svg", "folder": "2KR4JY1uQCtoltIw", "sort": 100000, "_id": "Ze6GwPkJUllcBv46", "_stats": {"systemId": "dnd5e", "systemVersion": "2.0.3", "coreVersion": "10.287", "createdTime": 1665204863029, "modifiedTime": 1665207494739, "lastModifiedBy": "35XmDJHnBMPCEkei"}, "flags": {"core": {"sourceId": "Item.vJ5FECzbVx5TaDI1"}, "itemacro": {"macro": {"name": "Bullets (10-Clip)", "type": "script", "scope": "global", "command": "targetConsumableId = item.system.consume.target\ntargetToConsume = Math.max(item.system.consume.amount - item.system.quantity, 0)\n\nrefillItem = token.actor.items.get(targetConsumableId)\nif (refillItem) {\n  qty = refillItem.system.quantity\n  if (qty >= targetToConsume) {\n    console.log(\"Reloading!\")\n    await refillItem.update({\"system.quantity\": qty - targetToConsume})\n    await item.update({\"system.quantity\": item.system.consume.amount})\n  } else {\n    await refillItem.update({\"system.quantity\": 0})\n    await item.update({\"system.quantity\": item.system.quantity + qty})\n    targetToConsume = qty\n  }\n} else {\n  console.log(\"no consumable target, defaulting to max refill\")\n  await item.update({\"system.quantity\": item.system.consume.amount})\n}\n\nif (targetToConsume > 0) {\n  console.log(item.name)\n  let content_html = `${token.actor.name} has reloaded ${item.name} (${targetToConsume} added)`;\n  ChatMessage.create({content: content_html})\n}", "author": "35XmDJHnBMPCEkei", "_id": null, "img": "icons/svg/dice-target.svg", "folder": null, "sort": 0, "ownership": {"default": 0}, "flags": {}, "_stats": {"systemId": null, "systemVersion": null, "coreVersion": null, "createdTime": null, "modifiedTime": null, "lastModifiedBy": null}}}}, "effects": [], "ownership": {"default": 0, "35XmDJHnBMPCEkei": 3}, "system": {"description": {"value": "<p>Standard ammunition used for guns of all varieties.</p><p>10-clip used for handguns and machine pistols.</p>", "chat": "", "unidentified": ""}, "source": "", "quantity": 10, "weight": 0, "price": 0, "attunement": 0, "equipped": false, "rarity": "common", "identified": true, "activation": {"type": "none", "cost": 0, "condition": ""}, "duration": {"value": null, "units": ""}, "target": {"value": null, "width": null, "units": "", "type": ""}, "range": {"value": null, "long": null, "units": ""}, "uses": {"value": 0, "max": "0", "per": "", "recovery": "", "autoDestroy": false}, "consume": {"type": "", "target": "", "amount": 10}, "ability": null, "actionType": "", "attackBonus": 0, "chatFlavor": "", "critical": {"threshold": null, "damage": null}, "damage": {"parts": [], "versatile": ""}, "formula": "", "save": {"ability": "", "dc": null, "scaling": "spell"}, "consumableType": "ammo"}}
